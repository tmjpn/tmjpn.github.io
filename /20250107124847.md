# WSL2セットアップ手順

## 概要

本記事では、Windows11環境において、WSL2（Windows Subsystem for Linux 2）のセットアップ方法と、Ubuntuを利用可能にする手順を解説します。
仮想化機能の確認から、必要なWindows機能の有効化、WSLのインストール、Ubuntuの初期設定、そしてWSLのバージョン確認と設定まで、ステップバイステップで詳しく説明します。
これにより、Windows上で効率的にLinux環境を構築し、開発や学習に活用できるようになります。

## 前提条件

- **Windows11 24H2**がインストールされていること。
- **管理者権限**を持つユーザーで作業を行うこと。

## 手順

### 1. 仮想化機能の確認と有効化

- **BIOS/UEFI 設定の確認**:
  - PCのBIOSまたはUEFI設定で、仮想化技術（Intel VT-x や AMD-V）が有効になっていることを確認します。
  - 確認方法はPCのメーカーやモデルによって異なります。

- **Windows 上での確認**:
  - タスクマネージャー（`Ctrl + Shift + Esc`）を開き、「パフォーマンス」タブの「CPU」セクションで「仮想化」が「有効」になっていることを確認します。

### 2. Windows の機能の有効化

- **設定アプリの起動**:
  - 「スタート」ボタンをクリックし、「設定」を選択します。
- **オプション機能の設定**:
  - 「システム」セクションで「オプション機能」を選択し、「Windows のその他の機能」をクリックします。

[include](%7F/20250107124847.20250106191104.md)

[include](%7F/20250107124847.20250106191222.md)

- **必要な機能の有効化**:
  - 「Windows の機能」ウィンドウで、以下の項目にチェックを入れます:
    - 「Linux 用 Windows サブシステム」
  - 「OK」をクリックし、変更を適用するためにシステムを再起動します。

[include](%7F/20250107124847.20250106191255.md)

[include](%7F/20250107124847.20250106191430.md)

[include](%7F/20250107124847.20250106194755.md)

### 3. WSL のインストール

- **管理者権限でのコマンドプロンプトの起動**:
  - 「スタート」ボタンを右クリックし、「Windows ターミナル（管理者）」を選択します。

[include](%7F/20250107124847.20250106195733.md)

- **WSLのインストールコマンドの実行**:
  - 以下のコマンドを入力し、`Enter` キーを押します:
    ```
    wsl --install
    ```
  - このコマンドにより、WSLと既定のLinuxディストリビューション（通常は Ubuntu）がインストールされます。

### 4. Ubuntuの初期設定

- **ユーザー名とパスワードの設定**:
  - プロンプトに従い、Ubuntu用のユーザー名とパスワードを設定します。

[include](%7F/20250107124847.20250106195835.md)

[include](%7F/20250107124847.20250106195938.md)

### 5. WSLのバージョン確認と設定

- **WSLのバージョン確認**:
  - 管理者権限でのコマンドプロンプトを開き、以下のコマンドを実行します:
    ```
    wsl -l -v
    ```
  - インストールされているディストリビューションとそのWSLバージョンが表示されます。

[include](%7F/20250107124847.20250106214957.md)

- **WSL2への設定変更（必要な場合）**:
  - UbuntuがWSL1で動作している場合、以下のコマンドでWSL2に変更できます:
    ```
    wsl --set-version Ubuntu 2
    ```
  - すべての新しいディストリビューションを既定でWSL2に設定するには、以下のコマンドを実行します:
    ```
    wsl --set-default-version 2
    ```

## 参考資料

- [Windows 11にWSL2をインストールする - Qiita](https://qiita.com/SAITO_Keita/items/148f794a5b358e5cb87b)
- [Windows11にWSL2をインストールする方法およびwslコマンド実行NGになった話 - Qiita](https://qiita.com/Nitabushi/items/795f5f25bbd3900ea706)
- [WSL2 のセットアップ手順まとめ - Qiita](https://qiita.com/ya2ha4/items/d6d3739f329f6d7ca529)
